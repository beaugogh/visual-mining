(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],d=0,h=[];d<o.length;d++)s=o[d],a[s]&&h.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={app:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/data-visualizations/timelines/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"070e":function(t,e,i){"use strict";var n=i("52f9"),a=i.n(n);a.a},4678:function(t,e,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=r(t);return i(e)}function r(t){var e=n[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id="4678"},"52f9":function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);var n,a=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{attrs:{id:"app-main"}},[i("Timelines",{ref:"timelinesRef",attrs:{data:t.data}}),i("div",{staticClass:"footer"},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{color:"success"},on:{click:function(e){return t.onEnterBtnClick()}}},n),[t._v("Add")])]}}])},[i("span",[t._v("Generate a timeline")])]),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{color:"info"},on:{click:function(e){return t.onUpdateBtnClick()}}},n),[t._v("Update")])]}}])},[i("span",[t._v("Update a timeline")])]),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{color:"error"},on:{click:function(e){return t.onExitBtnClick()}}},n),[t._v("Remove")])]}}])},[i("span",[t._v("Remove a timeline")])]),i("span",[t._v("   ")]),i("v-btn-toggle",{attrs:{mandatory:""},on:{change:function(e){return t.toggleAxisFormat()}},model:{value:t.timeFormatOption,callback:function(e){t.timeFormatOption=e},expression:"timeFormatOption"}},[i("v-btn",{attrs:{flat:"",value:"absolute"}},[t._v("Absolute")]),i("v-btn",{attrs:{flat:"",value:"relative"}},[t._v("Relative")])],1)],1)],1)},s=[],o=i("9ab4"),l=i("60a3"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timeline-container"},[i("div",{staticClass:"input-container"},[i("v-layout",{attrs:{row:"",wrap:"","align-center":"true","justify-center":"true"}},[i("v-flex",{attrs:{xs3:""}},[i("v-container",{attrs:{light:""}},[i("v-text-field",{staticClass:"px-4",attrs:{placeholder:"Filter"},on:{input:function(e){return t.onFilter()}},model:{value:t.filterTerm,callback:function(e){t.filterTerm=e},expression:"filterTerm"}})],1)],1),i("v-flex",{attrs:{xs4:""}},[i("v-card",{attrs:{"min-height":"80px",color:"white"}},[t.observationInfo.length>0?[t._l(t.observationInfo,function(e,n){return[i("div",{key:n,staticClass:"text-sm-left info-item"},[t._v(t._s(e))])]})]:[i("div",{staticClass:"text-sm-left info-item-empty"},[t._v("Selected observation")])]],2)],1),i("v-flex",{attrs:{xs3:""}},[i("v-container",{attrs:{light:""}},[i("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.onResetBrush()}}},[t._v("Reset brush")])],1)],1)],1)],1)])},u=[],d=i("5698"),h=i("c1df"),f=i.n(h),m=function(){function t(){}return t.formatRelativeDate=function(e,i){for(var n=f()(i),a=f()(e),r=d["d"](".1f"),s=0;s<t.timeUnits.length;s++){var o=this.timeUnits[s],l=Math.abs(Math.round(n.diff(a,o)));if(l>0){var c=Math.abs(n.diff(a,o,!0));return r(c)+" "+o+(c>1?"s":"")}}return"beginning"},t.uuid=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?i:3&i|8).toString(16)});return e},t.randomIndex=function(t){return Math.floor(Math.random()*t)},t.randomName=function(){var e=t.randomIndex(t.adjectives.length),i=t.adjectives[e],n=t.randomIndex(t.nouns.length),a=t.nouns[n];return i+" "+a},t.shuffle=function(t){return t.sort(function(){return Math.random()-.5})},t.timeUnits=["year","month","day","hour","minute","second"],t.timelinesVue=null,t.adjectives=["adamant","adroit","amatory","animistic","antic","arcadian","baleful","bellicose","bilious","boorish","calamitous","caustic","cerulean","comely","concomitant","contumacious","corpulent","crapulous","defamatory","didactic","dilatory","dowdy","efficacious","effulgent","egregious","endemic","equanimous","execrable","fastidious","feckless","fecund","friable","fulsome","garrulous","guileless","gustatory","heuristic","histrionic","hubristic","incendiary","insidious","insolent","intransigent","inveterate","invidious","irksome","jejune","jocular","judicious","lachrymose","limpid","loquacious","luminous","mannered","mendacious","meretricious","minatory","mordant","munificent","nefarious","noxious","obtuse","parsimonious","pendulous","pernicious","pervasive","petulant","platitudinous","precipitate","propitious","puckish","querulous","quiescent","rebarbative","recalcitant","redolent","rhadamanthine","risible","ruminative","sagacious","salubrious","sartorial","sclerotic","serpentine","spasmodic","strident","taciturn","tenacious","tremulous","trenchant","turbulent","turgid","ubiquitous","uxorious","verdant","voluble","voracious","wheedling","withering","zealous"],t.nouns=["ninja","chair","pancake","statue","unicorn","rainbows","laser","senor","bunny","captain","nibblets","cupcake","carrot","gnomes","glitter","potato","salad","toejam","curtains","beets","toilet","exorcism","stick figures","mermaid eggs","sea barnacles","dragons","jellybeans","snakes","dolls","bushes","cookies","apples","ice cream","ukulele","kazoo","banjo","opera singer","circus","trampoline","carousel","carnival","locomotive","hot air balloon","praying mantis","animator","artisan","artist","colorist","inker","coppersmith","director","designer","flatter","stylist","leadman","limner","make-up artist","model","musician","penciller","producer","scenographer","set decorator","silversmith","teacher","auto mechanic","beader","bobbin boy","clerk of the chapel","filling station attendant","foreman","maintenance engineering","mechanic","miller","moldmaker","panel beater","patternmaker","plant operator","plumber","sawfiler","shop foreman","soaper","stationary engineer","wheelwright","woodworkers"],t}(),p=function(){function t(t,e,i){this.id=t,this.startMoment=e,this.endMoment=i}return t}(),b=function(t){function e(e,i){var n=t.call(this,e.id,e.startMoment,e.endMoment)||this;return n.x1=0,n.x2=0,n.y=0,n.r=7,n.circleFill="grey",n.circleStroke="none",n.circleStrokeWidth=1,n.lineStroke="grey",n.lineStrokeWidth=3,n.colorLocked=!1,n.timeline=i,n}return o["b"](e,t),e.prototype.updateDatum=function(t){this.id=t.id,this.startMoment=t.startMoment,this.endMoment=t.endMoment},e.prototype.drawCircle=function(t){return t.transition().duration(500).attr("cx",this.x1).attr("cy",this.y).attr("r",this.r).attr("fill",this.circleFill).attr("stroke",this.circleStroke)},e.prototype.drawLine=function(t){return t.transition().duration(500).attr("x1",this.x1).attr("y1",this.y).attr("x2",this.x2).attr("y2",this.y).attr("stroke",this.lineStroke).attr("stroke-width",this.lineStrokeWidth)},e.prototype.onCircleMouseover=function(t){var e=d["e"](this.circleFill).brighter().toString(),i=2*this.circleStrokeWidth,n=2*this.lineStrokeWidth;t.attr("fill",e).attr("stroke",e).attr("stroke-width",i);var a=d["l"](t.node().parentNode);a.select("line").attr("stroke",e).attr("stroke-width",n),this.addContextualHighlights(a),m.timelinesVue.selectedObservation=this},e.prototype.onCircleMouseout=function(t){t.attr("fill",this.circleFill).attr("stroke",this.circleStroke).attr("stroke-width",this.circleStrokeWidth);var e=d["l"](t.node().parentNode);e.select("line").attr("stroke",this.lineStroke).attr("stroke-width",this.lineStrokeWidth),this.removeContextualHighlights(e),m.timelinesVue.selectedObservation=null},e.prototype.addContextualHighlights=function(t){var e=d["l"](".axis").attr("transform"),i=Number(e.split(",")[1].replace(")",""))+55,n=[{x1:this.x1,y1:-1,x2:this.x1,y2:this.y-this.r},{x1:this.x1,y1:this.y+this.r,x2:this.x1,y2:i},{x1:this.x2,y1:-1,x2:this.x2,y2:i}];t.selectAll(".vertical-line").data(n).enter().append("line").classed("vertical-line",!0).attr("x1",function(t){return t.x1}).attr("y1",function(t){return t.y1}).attr("x2",function(t){return t.x2}).attr("y2",function(t){return t.y2}).attr("stroke",this.lineStroke);var a=d["m"]("%b %_d, %Y"),r=[{x:this.x1,y:i,label:a(this.startMoment)},{x:this.x2,y:i,label:a(this.endMoment)}];Math.abs(this.x1-this.x2)<10&&r.splice(1,1),t.selectAll(".vertical-label").data(r).enter().append("text").classed("vertical-label",!0).style("text-anchor","end").attr("font-family","Helvetica").attr("font-size",12).attr("dx","-.5em").attr("dy",".5em").attr("font-weight","bold").attr("fill",d["e"](this.lineStroke).darker()).attr("transform",function(t){return"translate("+t.x+","+t.y+") rotate(-50)"}).text(function(t){return t.label});var s=d["l"](t.node().parentNode);s.select("text").attr("font-size","1.1em").attr("font-weight","bolder")},e.prototype.removeContextualHighlights=function(t){t.selectAll(".vertical-line").transition().duration(200).attr("stroke","transparent").remove(),t.selectAll(".vertical-label").transition().duration(200).attr("stroke","transparent").remove();var e=d["l"](t.node().parentNode);e.select("text").attr("font-size","0.9em").attr("font-weight","normal")},e}(p),v=function(){function t(t,e,i){this.id=t,this.label=e,this.observationData=i}return t}(),x=function(t){function e(e){var i=t.call(this,e.id,e.label,e.observationData)||this;return i.x1=0,i.x2=0,i.y=0,i.lineStroke="lightgray",i.textStroke="none",i.textFill="#303030",i.fontFamily="Helvetica",i.fontSize=12,i.observations=e.observationData.map(function(t){return new b(t,i)}),i}return o["b"](e,t),e.prototype.updateDatum=function(t){var e=this;this.id=t.id,this.label=t.label,this.observationData=t.observationData;var i=this.observationData.map(function(t){return t.id}),n=this.observations.map(function(t){return t.id}),a=i.filter(function(t){return!n.includes(t)}),r=i.filter(function(t){return n.includes(t)}),s=n.filter(function(t){return!i.includes(t)});this.observations=this.observations.filter(function(t){return!s.includes(t.id)}),this.observationData.forEach(function(t,i){a.includes(t.id)&&e.observations.splice(i,0,new b(t,e))}),this.observations.forEach(function(t,i){r.includes(t.id)&&t.updateDatum(e.observationData[i])})},e.prototype.drawLine=function(t){return t.transition().duration(500).attr("x1",this.x1).attr("y1",this.y).attr("x2",this.x2).attr("y2",this.y).attr("stroke",this.lineStroke).attr("stroke-width","1px")},e.prototype.drawLabel=function(t){return t.transition().duration(500).text(this.label).attr("x",this.x1-10).attr("y",this.y).attr("dy",this.fontSize/2).attr("stroke",this.textStroke).attr("fill",this.textFill).attr("font-size",this.fontSize).attr("font-family",this.fontFamily).style("text-anchor","end")},e}(v);(function(t){t["ABSOLUTE"]="absolute",t["RELATIVE"]="relative"})(n||(n={}));var j=function(t){function e(){var e=t.call(this)||this;return e.padding=10,e.spacing=20,e.filterTerm="",e.selectedObservation=null,e.filteredData=[],e.brushedData=[],e.timelines=[],e}return o["b"](e,t),e.prototype.onDataChanged=function(){this.filteredData=this.data,this.brushedData=this.data,this.visualize()},e.prototype.onFilter=function(){var t=this;this.filteredData=this.data.filter(function(e){return e.label.includes(t.filterTerm)}),this.visualize()},e.prototype.onResetBrush=function(){this.brushedData=this.data,this.clearBrush(),this.visualize()},e.prototype.toggleAxisFormat=function(t){this.timeFormat=this.getTimeFormat(t),this.axis.tickFormat(this.timeFormat),this.svg.select(".axis").call(this.axis)},Object.defineProperty(e.prototype,"observationInfo",{get:function(){return this.selectedObservation?[this.selectedObservation.timeline.label,this.timeFormat(this.selectedObservation.startMoment),this.timeFormat(this.selectedObservation.endMoment)]:[]},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){this.initialize()},e.prototype.initialize=function(){var t=this;m.timelinesVue=this,this.svg=d["l"](".timeline-container").append("svg").attr("width","100%").attr("height","2000px").style("position","absolute").style("top","66px").style("left","3px").style("z-index",0),this.categoricalColors=m.shuffle(d["j"].concat(d["k"])),this.timeFormat=this.getTimeFormat(n.ABSOLUTE),this.svg.append("g").classed("axis",!0),this.svg.append("g").classed("brush",!0),this.brush=d["b"]().on("end",this.brushed),window.addEventListener("resize",function(e){t.prepareTimelines(),t.visualizeUpdate(),t.visualizeAxis()})},e.prototype.brushed=function(){var t=d["c"].selection;if(t){var e=this.xScale.invert(t[0]),i=this.xScale.invert(t[1]),n=[];this.data.forEach(function(t){var a=[];t.observationData.forEach(function(t){f()(t.startMoment).isSameOrAfter(e)&&f()(t.endMoment).isSameOrBefore(i)&&a.push(t)}),a.length>0&&n.push(new v(t.id,t.label,a))}),this.brushedData=n,this.clearBrush(),this.visualize()}},e.prototype.clearBrush=function(){d["l"](".brush").call(this.brush.move,null)},e.prototype.prepareTimelines=function(){var t=this,e=this.intersect(this.filteredData,this.brushedData),i=e.map(function(t){return t.id}),n=this.timelines.map(function(t){return t.id}),a=i.filter(function(t){return!n.includes(t)}),r=i.filter(function(t){return n.includes(t)}),s=n.filter(function(t){return!i.includes(t)});s.length>0&&(this.timelines=this.timelines.filter(function(t){return!s.includes(t.id)}));var o=this.padding,l=this.spacing,c=d["l"](".timeline-container").node(),u=(c["offsetTop"],c["offsetLeft"]),h=u+10*o,f=c["offsetWidth"],m=(c["offsetHeight"],[]);e.forEach(function(e,i){a.includes(e.id)&&t.timelines.splice(i,0,new x(e)),e.observationData.forEach(function(t){m.push(t.startMoment),m.push(t.endMoment)})}),this.minDate=d["g"](m),this.maxDate=d["f"](m),this.xScale=d["i"]().domain([this.minDate,this.maxDate]).range([h,u+f-o]);var p=this.xScale(this.minDate),b=this.xScale(this.maxDate),v=o;this.timelines.forEach(function(i,n){r.includes(i.id)&&i.updateDatum(e[n]);var a=n%t.categoricalColors.length;i.x1=p,i.x2=b,i.y=2*o+l*n,v=i.y+l,i.observations.forEach(function(e){e.x1=t.xScale(e.startMoment),e.x2=t.xScale(e.endMoment),e.y=i.y,e.colorLocked||(e.circleFill=t.categoricalColors[a],e.lineStroke=e.circleFill,e.colorLocked=!0)})}),this.axis=d["a"](this.xScale).ticks(12).tickFormat(this.timeFormat).tickSize(10).tickPadding(5),this.svg.select(".axis").transition().duration(300).attr("transform","translate(0,"+v+")"),this.svg.attr("height",v+10*l);var j=Number(this.svg.style("width").split("px")[0]),y=v+10;this.brush.extent([[u,0],[j,y]]),d["l"](".brush").call(this.brush)},e.prototype.getTimeFormat=function(t){var e=this;return t===n.RELATIVE?function(t){return m.formatRelativeDate(t,e.minDate)}:d["m"]("%b %_d, %Y")},e.prototype.visualizeEnter=function(){var t=this.timelineNodeSelection(this.timelines).enter().append("g").classed("timeline",!0);t.append("line").each(function(t){t.drawLine(d["l"](this))}),t.append("text").each(function(t){t.drawLabel(d["l"](this))});var e=this.observationNodeSelection(this.timelines).enter().append("g").classed("observation",!0);e.append("line").each(function(t){t.drawLine(d["l"](this))}),e.append("circle").each(function(t){t.drawCircle(d["l"](this))}).on("mouseover",function(t){t.onCircleMouseover(d["l"](this))}).on("mouseout",function(t){t.onCircleMouseout(d["l"](this))})},e.prototype.visualizeUpdate=function(){var t=this.timelines,e=this.timelineNodeSelection(t);e.select("line").each(function(t){t.drawLine(d["l"](this))}),e.select("text").each(function(t){t.drawLabel(d["l"](this))});var i=this.observationNodeSelection(t);i.selectAll("circle").each(function(t){t.drawCircle(d["l"](this))}),i.selectAll("line").each(function(t){t.drawLine(d["l"](this))})},e.prototype.visualizeExit=function(){this.timelineNodeSelection(this.timelines).exit().transition().remove(),this.observationNodeSelection(this.timelines).exit().transition().remove()},e.prototype.visualizeAxis=function(){this.svg.select(".axis").transition().delay(301).duration(300).call(this.axis).selectAll("text").transition().style("text-anchor","end").attr("font-family","Helvetica").attr("font-weight","bold").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-50)")},e.prototype.visualize=function(){this.prepareTimelines(),this.visualizeEnter(),this.visualizeUpdate(),this.visualizeExit(),this.visualizeAxis()},e.prototype.timelineNodeSelection=function(t){return this.svg.selectAll(".timeline").data(t,this.keyBound)},e.prototype.observationNodeSelection=function(t){return this.timelineNodeSelection(t).selectAll(".observation").data(function(t){return t.observations},this.keyBound)},e.prototype.keyBound=function(t){return t.id},e.prototype.intersect=function(t,e){var i=t.map(function(t){return t.id});return e.filter(function(t){return i.includes(t.id)})},o["a"]([Object(l["b"])()],e.prototype,"data",void 0),o["a"]([Object(l["d"])("data",{deep:!0})],e.prototype,"onDataChanged",null),e=o["a"]([l["a"]],e),e}(l["c"]),y=j,g=y,k=(i("070e"),i("2877")),w=Object(k["a"])(g,c,u,!1,null,"3bd11a22",null),S=w.exports,D=function(){function t(){}return t.generateATimeline=function(t,e,i,n){var a=d["i"]().domain([e,i]).range([0,n+1]),r=[];return d["h"](n).forEach(function(t){var e=Math.random()<.5?-1:1,i=.8,n=Math.random()*i,s=e*n+t,o=a.invert(s),l=a.invert(t+1),c=Math.random()*f()(l).diff(o),u=f.a.duration(c),d=f()(o).add(u).toDate();r.push(new p(m.uuid(),o,d))}),new v(m.uuid(),t,r)},t.generateTimelines=function(e,i){var n=new Date(1987,1,11),a=new Date(2006,8,31),r=new Date(2006,9,1),s=new Date(2019,3,31),o=d["i"]().domain([n,a]).range([0,e]),l=d["i"]().domain([r,s]).range([0,e]),c=[];return d["h"](e).forEach(function(n){var a=Math.random()*e,r=Math.ceil(Math.random()*i),s=o.invert(a),u=l.invert(a),d=t.generateATimeline(m.randomName(),s,u,r);c.push(d)}),c},t}(),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=[],e.dataSource=[],e.timeFormatOption=n.ABSOLUTE,e}return o["b"](e,t),e.prototype.toggleAxisFormat=function(){var t=this.$refs.timelinesRef;t.toggleAxisFormat(this.timeFormatOption)},e.prototype.onEnterBtnClick=function(){var t=D.generateTimelines(1,10);this.dataSource.push(t[0]),this.updateTimelinesData()},e.prototype.onUpdateBtnClick=function(){var t=this.dataSource,e=m.randomIndex(t.length),i=this.dataSource[e],n=m.randomIndex(i.observationData.length),a=(Math.random(),i.observationData[n]),r=6;Math.random()>.5?(a.startMoment=f()(a.startMoment).subtract(r,"month").toDate(),a.endMoment=f()(a.endMoment).subtract(r,"month").toDate()):(a.startMoment=f()(a.startMoment).add(r,"month").toDate(),a.endMoment=f()(a.endMoment).add(r,"month").toDate()),this.updateTimelinesData()},e.prototype.onExitBtnClick=function(){var t=m.randomIndex(this.dataSource.length);this.dataSource.splice(t,1),this.updateTimelinesData()},e.prototype.mounted=function(){this.dataSource=D.generateTimelines(11,10),this.updateTimelinesData()},e.prototype.updateTimelinesData=function(){this.data=this.dataSource},e=o["a"]([Object(l["a"])({components:{Timelines:S}})],e),e}(l["c"]),M=z,O=M,F=(i("fffb"),Object(k["a"])(O,r,s,!1,null,null,null)),T=F.exports,_=i("ce5b"),E=i.n(_);i("bf40");a["default"].use(E.a),a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(T)}}).$mount("#app")},ea89:function(t,e,i){},fffb:function(t,e,i){"use strict";var n=i("ea89"),a=i.n(n);a.a}});
//# sourceMappingURL=app.09f12219.js.map